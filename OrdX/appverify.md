客户端验证
====



完全不依赖indexer是不现实的，无论是从效率和成本等方面考虑都是这样。我们的目标是客户端可以根据主网的数据自行验证资产，indexer仅仅是提供一个高效率的数据访问支持。另外Ordinals协议本身也需要一个indexer服务，用于对sat的跟踪。而OrdinalsX协议需要知道哪些ticker在哪个区块被部署过，并且哪些mint是成功。除此之外的数据都不是必须的。

我们设计的deploy和mint命令，就是为了达成这个目标而特殊设计的。现在来看看客户端如何对资产进行验证：  
比如，某个钱包宣传其拥有某个ordx协议的资产，比如名字为A，数量为n。为了验证该钱包拥有这个资产，只需要定位到是哪个utxo的哪个sat铭刻了该资产，检查该sat后是否有n个连续编码的sat，然后回溯该utxo，直到找到mint时的铭文。如果能找到，就检查这次mint是否满足A的规则。只需要有ordinals协议的服务支持，客户端就可以自主完成资产有效性的验证。如果ordx能提供查询服务，钱包能直接查询到这个sat是否是A的有效mint的SatRange中。

为了验证的效率，我们会在ordinals协议上提供更高效的验证服务：某个资产deploy后，所有mint的操作都记录起来，形成资产的有效SatRange范围，然后公开发布这个范围。以后检查资产，只需要提供sat的编号和资产数量，就可以从这个SatRange中直接判断是否是有效的。客户端不需要信任我们提供的数据，因为客户端可以非常容易就对我们提供的数据（某个utxo中的哪个SatRange有绑定的Token，属于哪次mint，该次mint的指定的Sat有对应的铭文）通过ordinals.com进行验证。


